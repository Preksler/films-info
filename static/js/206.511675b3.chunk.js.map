{"version":3,"file":"static/js/206.511675b3.chunk.js","mappings":"uQAEaA,EAAUC,EAAAA,GAAAA,IAAH,6GAOPC,EAAQD,EAAAA,GAAAA,MAAH,oaAuBLE,EAASF,EAAAA,GAAAA,OAAH,0jC,SC9BNG,EAAY,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACjC,OACE,UAACN,EAAD,YACI,SAACE,EAAD,CACIK,KAAK,OACLC,WAAS,EACTH,MAAOA,EACPC,SAAU,SAACG,GAAD,OAAOH,EAASG,EAAEC,OAAOL,QACnCM,YAAY,uBAEhB,SAACR,EAAD,CAAQI,KAAK,SAAb,UAAsB,2C,SCVjBK,EAAYX,EAAAA,GAAAA,IAAH,mG,kBCyFtB,EAlFe,WAAO,IAAD,IACjB,GAA4BY,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAsCF,EAAAA,EAAAA,UAAS,IAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAC3CC,EAAW,UAAGJ,EAAaG,IAAI,eAApB,QAA+B,EAChD,GAAwBX,EAAAA,EAAAA,UAASY,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KAGQC,GAAWC,EAAAA,EAAAA,MAAXD,OAgCR,IA9BAE,EAAAA,EAAAA,YAAU,WAAM,wCAIZ,2FACIX,GAAW,GADf,mBAG6BY,EAAAA,EAAAA,IAAWR,EAAaE,GAHrD,OAGcX,EAHd,OAIoC,IAAxBkB,OAAOP,GACPV,EAAUD,EAAOmB,SAEjBlB,GAAU,SAACmB,GAAD,wBAAoBA,IAApB,OAAmCpB,EAAOmB,aAExDd,GAAW,GATnB,gDAWQgB,QAAQC,IAAR,MAXR,0DAJY,sBACPR,GADO,mCAkBZS,KACD,CAACd,EAAaE,EAAaG,KAE9BE,EAAAA,EAAAA,YAAU,WACFhB,EAAOwB,OAAS,GAAKN,OAAON,GAAQ,GACpCa,OAAOC,SAAS,CACZC,IAAKC,IACLC,SAAU,aAGnB,CAAC7B,EAAOwB,OAAQZ,IAEdZ,EAAL,CA6BA,OACI,UAACF,EAAD,YACI,iBAAMgC,SAlBO,SAACnC,GAAM,wCAExB,2FACIU,GAAW,GADf,mBAG6BY,EAAAA,EAAAA,IAAWf,GAHxC,OAGcF,EAHd,OAIQC,EAAUD,EAAOmB,SACjBd,GAAW,GALnB,gDAOQgB,QAAQC,IAAR,MAPR,0DAFwB,sBACxB3B,EAAEoC,iBADsB,mCAYxBR,GACAf,EAAgB,CAAEwB,MAAO9B,EAAaU,KAAM,KAKxC,UACI,SAACtB,EAAD,CAAWC,MAAOW,EAAaV,SAvBjB,SAACwC,GACvB7B,EAAe6B,QAwBV5B,IAAW,SAAC6B,EAAA,EAAD,KACZ,SAACC,EAAA,EAAD,CAAYlC,OAAQA,IACnBA,EAAOwB,OAAS,IAAK,SAACW,EAAA,EAAD,CAAaC,WAhCvB,WAChBvB,GAAQ,SAAAD,GAAI,OAAIA,EAAO,KACvBJ,EAAgB,CAAEwB,MAAOvB,EAAaG,KAAMM,OAAON,GAAQ","sources":["components/SearchBox/SearchBox.styled.js","components/SearchBox/SearchBox.jsx","pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n    position: absolute;\n    top: 8px;\n    right: 16px;\n    display: inline-flex;\n`;\n\nexport const Input = styled.input`\n    padding: 8px;\n    border-radius: 4px;\n    border: 1px solid rgb(255 69 0);\n    margin-right: 4px;\n    color: rgb(255 69 0);\n    font-size: 16px;\n    font-weight: 500;\n\n    &:focus {\n        outline: none;\n        border: 2px solid rgb(255 69 0);\n    }\n\n    &:hover {\n        border: 2px solid rgb(255 69 0);\n    }\n\n    &::placeholder {\n        color: rgb(255 69 0);\n    }\n`;\n\nexport const Button = styled.button`\n    position: relative;\n    padding: 8px 16px;\n    border: 2px solid rgb(255 69 0);\n    border-radius: 4px;\n    color: rgb(255 69 0);\n    background-color: transparent;\n    cursor: pointer;\n\n    & > span {\n        position: relative;\n        font-size: 16px;\n        font-weight: 700;\n        z-index: 3;\n    }\n\n    ::before {\n        content: \"\";\n        position: absolute;\n        top: 6px;\n        left: -3px;\n        width: calc(100% + 6px);\n        height: calc(100% - 12px);\n        background-color: #fff;\n        transition: 0.3s ease-in-out;\n        transform: scaleY(1);\n        transition-delay: 0.3s;\n    }\n\n    :hover::before {\n        transform: scaleY(0);\n    }\n\n    ::after {\n        content: \"\";\n        position: absolute;\n        top: -3px;\n        left: 6px;\n        width: calc(100% - 12px);\n        height: calc(100% + 6px);\n        background-color: #fff;\n        transition: 0.3s ease-in-out;\n        transform: scaleX(1);\n    }\n\n    :hover::after {\n        transform: scaleX(0);\n    }\n`;\n","import { Wrapper, Input, Button } from './SearchBox.styled';\n\nexport const SearchBox = ({ value, onChange }) => {\n  return (\n    <Wrapper>\n        <Input\n            type=\"text\"\n            autoFocus\n            value={value}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder=\"Enter movie title\"\n        />\n        <Button type=\"submit\"><span>Search</span></Button>\n    </Wrapper>\n  );\n};","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n","import { useSearchParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { searcMovie } from '../../services/moviesApi';\nimport { SearchBox } from '../../components/SearchBox/SearchBox';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { Container } from './Movies.styled';\nimport Loader from 'components/Loader/Loader';\nimport LoadMoreBtn from 'components/LoadMoreBtn/LoadMoreBtn';\n\nconst Movies = () => {\n    const [movies, setMovies] = useState([]);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const SEARCH_NAME = searchParams.get('query') ?? \"\";\n    const PAGE_NUMBER = searchParams.get('page') ?? 1;\n    const [page, setPage] = useState(PAGE_NUMBER);\n    const CARD_HEIGHT = 342;\n\n    const { search } = useLocation();\n\n    useEffect(() => {\n        if (!search) {\n            return;\n        }\n        async function getMovies() {\n            setLoading(true);\n            try {\n                const movies = await searcMovie(SEARCH_NAME, PAGE_NUMBER);\n                if (Number(PAGE_NUMBER) === 1) {\n                    setMovies(movies.results);\n                } else {\n                    setMovies((prevMovies) => [...prevMovies, ...movies.results]);\n                }\n                setLoading(false);\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        getMovies();\n    }, [SEARCH_NAME, PAGE_NUMBER, search]);\n\n    useEffect(() => {\n        if (movies.length > 0 && Number(page) > 1) {\n            window.scrollBy({\n                top: CARD_HEIGHT * 2,\n                behavior: \"smooth\"\n            });\n        }\n    }, [movies.length, page]);\n\n    if (!movies) {\n        return;\n    }\n\n     const onLoadMore = () => {\n        setPage(page => page + 1);\n        setSearchParams({ query: SEARCH_NAME, page: Number(page) + 1 });\n    }\n\n    const handleInputChange = (query) => {\n        setSearchQuery(query);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        async function getMovies() {\n            setLoading(true);\n            try {\n                const movies = await searcMovie(searchQuery);\n                setMovies(movies.results);\n                setLoading(false);\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        getMovies();\n        setSearchParams({ query: searchQuery, page: 1 });\n    }\n    \n    return (\n        <Container>\n            <form onSubmit={handleSubmit}>\n                <SearchBox value={searchQuery} onChange={handleInputChange} />\n            </form>\n            {loading && <Loader />}\n            <MoviesList movies={movies} />\n            {movies.length > 0 && <LoadMoreBtn onLoadMore={onLoadMore} />}\n        </Container>\n    );\n}\nexport default Movies;"],"names":["Wrapper","styled","Input","Button","SearchBox","value","onChange","type","autoFocus","e","target","placeholder","Container","useState","movies","setMovies","searchQuery","setSearchQuery","loading","setLoading","useSearchParams","searchParams","setSearchParams","SEARCH_NAME","get","PAGE_NUMBER","page","setPage","search","useLocation","useEffect","searcMovie","Number","results","prevMovies","console","log","getMovies","length","window","scrollBy","top","CARD_HEIGHT","behavior","onSubmit","preventDefault","query","Loader","MoviesList","LoadMoreBtn","onLoadMore"],"sourceRoot":""}